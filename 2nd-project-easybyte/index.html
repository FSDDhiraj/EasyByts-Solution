<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventHub</title>
    <link rel="stylesheet" href="main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
   
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-calendar-event me-2"></i>EventHub
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#events">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dashboard">Dashboard</a>
                    </li>
                </ul>
                <div class="d-flex">
                    <button class="btn btn-outline-primary me-2" id="themeToggle">
                        <i class="bi bi-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section" id="home">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">Discover Amazing Events Near You</h1>
                    <p class="lead mb-4">From concerts and conferences to workshops and meetups, find and book your next unforgettable experience.</p>
                    <a href="#events" class="btn btn-light btn-lg px-4">Explore Events</a>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="https://images.unsplash.com/photo-1531058020387-3be344556be6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Event illustration" class="img-fluid rounded-3 shadow">
                </div>
            </div>
        </div>
    </section>

    <!-- Events Section -->
    <section class="container mb-5" id="events">
        <h2 class="section-title">Upcoming Events</h2>
        
        <!-- Filter Buttons -->
        <div class="d-flex flex-wrap gap-2 mb-4">
            <button class="btn btn-outline-primary active filter-btn" data-filter="all">All Events</button>
            <button class="btn btn-outline-primary filter-btn" data-filter="music">Music</button>
            <button class="btn btn-outline-primary filter-btn" data-filter="conference">Conference</button>
            <button class="btn btn-outline-primary filter-btn" data-filter="workshop">Workshop</button>
            <button class="btn btn-outline-primary filter-btn" data-filter="sports">Sports</button>
        </div>
        
        <!-- Events Grid -->
        <div class="row" id="eventsContainer">
            <!-- Events will be dynamically loaded here -->
        </div>
    </section>

    <!-- Features Section -->
    <section class="container mb-5">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <i class="bi bi-search"></i>
                </div>
                <h4>Discover Events</h4>
                <p>Browse through a wide variety of events happening near you or online.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <i class="bi bi-ticket-perforated"></i>
                </div>
                <h4>Easy Booking</h4>
                <p>Book your tickets in just a few clicks with our simple booking process.</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <i class="bi bi-phone"></i>
                </div>
                <h4>Mobile Friendly</h4>
                <p>Access your tickets and event details on any device, anywhere.</p>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section class="container mb-5" id="dashboard">
        <h2 class="section-title">My Dashboard</h2>
        
        <ul class="nav nav-pills mb-4" id="dashboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="booked-tab" data-bs-toggle="pill" data-bs-target="#booked" type="button">My Bookings</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="past-tab" data-bs-toggle="pill" data-bs-target="#past" type="button">Past Events</button>
            </li>
        </ul>
        
        <div class="tab-content" id="dashboardTabsContent">
            <!-- My Bookings Tab -->
            <div class="tab-pane fade show active" id="booked" role="tabpanel">
                <div id="bookedEventsContainer">
                    <!-- Booked events will be loaded here -->
                </div>
            </div>
            
            <!-- Past Events Tab -->
            <div class="tab-pane fade" id="past" role="tabpanel">
                <div id="pastEventsContainer">
                    <!-- Past events will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5><i class="bi bi-calendar-event me-2"></i>EventHub</h5>
                    <p>Your one-stop solution for discovering and booking amazing events.</p>
                </div>
                <div class="col-md-2 mb-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home" class="text-light text-decoration-none">Home</a></li>
                        <li><a href="#events" class="text-light text-decoration-none">Events</a></li>
                        <li><a href="#dashboard" class="text-light text-decoration-none">Dashboard</a></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-envelope me-2"></i> support@eventhub.com</li>
                        <li><i class="bi bi-telephone me-2"></i> +1 (555) 123-4567</li>
                    </ul>
                </div>
                <div class="col-md-3 mb-4">
                    <h5>Follow Us</h5>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-light"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-twitter"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; 2023 EventHub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Event Details Modal -->
    <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="eventModalLabel">Event Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="eventModalBody">
                    <!-- Event details will be loaded here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="bookEventBtn">Book Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Confirmation Modal -->
    <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingModalLabel">Booking Confirmation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="bookingModalBody">
                    <!-- Booking details will be loaded here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Great, Thanks!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sample event data
        const events = [
            {
                id: 1,
                title: "Summer Music Festival",
                date: "2023-08-15",
                time: "18:00",
                location: "Central Park, New York",
                category: "music",
                price: 45,
                description: "Join us for an unforgettable night of music featuring top artists from around the world. Food trucks and beverages will be available.",
                image: "https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 5000,
                booked: 3870
            },
            {
                id: 2,
                title: "Tech Innovation Conference",
                date: "2023-09-10",
                time: "09:00",
                location: "Convention Center, San Francisco",
                category: "conference",
                price: 199,
                description: "Explore the latest trends in technology with industry leaders. Network with professionals and discover groundbreaking innovations.",
                image: "https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 1200,
                booked: 845
            },
            {
                id: 3,
                title: "Yoga & Mindfulness Workshop",
                date: "2023-08-22",
                time: "10:00",
                location: "Wellness Studio, Austin",
                category: "workshop",
                price: 35,
                description: "Learn techniques to reduce stress and improve focus. Suitable for all levels, from beginners to advanced practitioners.",
                image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 50,
                booked: 32
            },
            {
                id: 4,
                title: "Marathon City Run",
                date: "2023-10-05",
                time: "07:00",
                location: "Downtown, Chicago",
                category: "sports",
                price: 60,
                description: "Join thousands of runners in this annual city marathon. Choose from full marathon, half marathon, or 5K options.",
                image: "https://images.unsplash.com/photo-1552674605-db6ffd4facb5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 10000,
                booked: 7230
            },
            {
                id: 5,
                title: "Jazz Night Live",
                date: "2023-08-30",
                time: "20:00",
                location: "Blue Note Club, New Orleans",
                category: "music",
                price: 25,
                description: "Experience authentic New Orleans jazz with local legends and emerging talents in an intimate setting.",
                image: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 200,
                booked: 156
            },
            {
                id: 6,
                title: "Digital Marketing Masterclass",
                date: "2023-09-18",
                time: "13:00",
                location: "Business Hub, Seattle",
                category: "workshop",
                price: 89,
                description: "Learn advanced digital marketing strategies from industry experts. Hands-on exercises and real-world case studies included.",
                image: "https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                capacity: 100,
                booked: 67
            }
        ];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Load events
            renderEvents();
            
            // Set up event listeners
            setupEventListeners();
            
            // Load dashboard data
            loadDashboard();
        });

        // Render events to the page
        function renderEvents(filter = 'all') {
            const container = document.getElementById('eventsContainer');
            container.innerHTML = '';
            
            const filteredEvents = filter === 'all' 
                ? events 
                : events.filter(event => event.category === filter);
            
            if (filteredEvents.length === 0) {
                container.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-calendar-x display-1 text-muted"></i>
                        <h3 class="mt-3 text-muted">No events found</h3>
                        <p class="text-muted">Try selecting a different category</p>
                    </div>
                `;
                return;
            }
            
            filteredEvents.forEach(event => {
                const eventCard = createEventCard(event);
                container.appendChild(eventCard);
            });
        }

        // Create an event card element
        function createEventCard(event) {
            const col = document.createElement('div');
            col.className = 'col-md-6 col-lg-4';
            
            const formattedDate = new Date(event.date).toLocaleDateString('en-US', {
                weekday: 'short',
                month: 'short',
                day: 'numeric'
            });
            
            col.innerHTML = `
                <div class="card event-card h-100">
                    <div class="position-relative">
                        <img src="${event.image}" class="event-image" alt="${event.title}">
                        <div class="event-date">${formattedDate}</div>
                        <div class="category-badge">${event.category.charAt(0).toUpperCase() + event.category.slice(1)}</div>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">${event.title}</h5>
                        <p class="card-text text-muted flex-grow-1">${event.description.substring(0, 100)}...</p>
                        <div class="d-flex justify-content-between align-items-center mt-auto">
                            <div>
                                <div><i class="bi bi-geo-alt me-1"></i> ${event.location}</div>
                                <div><i class="bi bi-clock me-1"></i> ${event.time}</div>
                            </div>
                            <div class="text-end">
                                <div class="fw-bold text-primary">$${event.price}</div>
                                <small class="text-muted">${event.capacity - event.booked} spots left</small>
                            </div>
                        </div>
                        <button class="btn btn-primary mt-3 view-details-btn" data-event-id="${event.id}">View Details</button>
                    </div>
                </div>
            `;
            
            return col;
        }

        // Set up event listeners
        function setupEventListeners() {
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    renderEvents(this.dataset.filter);
                });
            });
            
            // View details buttons (using event delegation)
            document.getElementById('eventsContainer').addEventListener('click', function(e) {
                if (e.target.classList.contains('view-details-btn')) {
                    const eventId = parseInt(e.target.dataset.eventId);
                    showEventDetails(eventId);
                }
            });
            
            // Book event button
            document.getElementById('bookEventBtn').addEventListener('click', function() {
                const eventId = parseInt(this.dataset.eventId);
                bookEvent(eventId);
            });
            
            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
        }

        // Show event details in modal
        function showEventDetails(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            const modalBody = document.getElementById('eventModalBody');
            const formattedDate = new Date(event.date).toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            modalBody.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <img src="${event.image}" class="img-fluid rounded" alt="${event.title}">
                    </div>
                    <div class="col-md-6">
                        <h4>${event.title}</h4>
                        <p class="text-muted">${event.description}</p>
                        <div class="mb-3">
                            <div><i class="bi bi-calendar-event me-2"></i> ${formattedDate}</div>
                            <div><i class="bi bi-clock me-2"></i> ${event.time}</div>
                            <div><i class="bi bi-geo-alt me-2"></i> ${event.location}</div>
                            <div><i class="bi bi-tag me-2"></i> ${event.category.charAt(0).toUpperCase() + event.category.slice(1)}</div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <span class="h4 text-primary">$${event.price}</span>
                                <span class="text-muted">/ticket</span>
                            </div>
                            <div class="text-end">
                                <div class="fw-bold">${event.capacity - event.booked} spots available</div>
                                <small class="text-muted">Out of ${event.capacity} total</small>
                            </div>
                        </div>
                        <div class="progress mb-3" style="height: 8px;">
                            <div class="progress-bar" role="progressbar" style="width: ${(event.booked / event.capacity) * 100}%"></div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('bookEventBtn').dataset.eventId = eventId;
            
            const eventModal = new bootstrap.Modal(document.getElementById('eventModal'));
            eventModal.show();
        }

        // Book an event
        function bookEvent(eventId) {
            const event = events.find(e => e.id === eventId);
            if (!event) return;
            
            // Generate a random booking ID
            const bookingId = 'B' + Math.random().toString(36).substr(2, 9).toUpperCase();
            
            // Create booking object
            const booking = {
                id: bookingId,
                eventId: event.id,
                eventTitle: event.title,
                eventDate: event.date,
                eventTime: event.time,
                eventLocation: event.location,
                bookingDate: new Date().toISOString().split('T')[0],
                price: event.price,
                status: 'confirmed'
            };
            
            // Save to localStorage
            saveBooking(booking);
            
            // Update event booked count (in our sample data)
            event.booked += 1;
            
            // Show confirmation
            showBookingConfirmation(booking);
            
            // Close the event details modal
            const eventModal = bootstrap.Modal.getInstance(document.getElementById('eventModal'));
            eventModal.hide();
            
            // Update dashboard
            loadDashboard();
        }

        // Save booking to localStorage
        function saveBooking(booking) {
            let bookings = JSON.parse(localStorage.getItem('eventBookings') || '[]');
            bookings.push(booking);
            localStorage.setItem('eventBookings', JSON.stringify(bookings));
        }

        // Get all bookings from localStorage
        function getBookings() {
            return JSON.parse(localStorage.getItem('eventBookings') || '[]');
        }

        // Show booking confirmation
        function showBookingConfirmation(booking) {
            const modalBody = document.getElementById('bookingModalBody');
            
            modalBody.innerHTML = `
                <div class="text-center">
                    <i class="bi bi-check-circle-fill text-success display-1 mb-3"></i>
                    <h4>Booking Confirmed!</h4>
                    <p class="mb-3">Your ticket for <strong>${booking.eventTitle}</strong> has been successfully booked.</p>
                    <div class="card ticket-card p-3 mb-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-1">${booking.eventTitle}</h6>
                                <small class="text-muted">${new Date(booking.eventDate).toLocaleDateString('en-US')} at ${booking.eventTime}</small>
                            </div>
                            <div class="text-end">
                                <small class="text-muted">Booking ID</small>
                                <div class="fw-bold">${booking.id}</div>
                            </div>
                        </div>
                    </div>
                    <p class="text-muted">You can view and manage your tickets in the Dashboard section.</p>
                </div>
            `;
            
            const bookingModal = new bootstrap.Modal(document.getElementById('bookingModal'));
            bookingModal.show();
        }

        // Load dashboard data
        function loadDashboard() {
            const bookings = getBookings();
            
            // Render booked events
            renderBookedEvents(bookings);
            
            // Render past events
            renderPastEvents(bookings);
        }

        // Render booked events in dashboard
        function renderBookedEvents(bookings) {
            const container = document.getElementById('bookedEventsContainer');
            container.innerHTML = '';
            
            const upcomingBookings = bookings.filter(booking => 
                new Date(booking.eventDate) >= new Date().setHours(0,0,0,0)
            );
            
            if (upcomingBookings.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="bi bi-calendar-x"></i>
                        <h4>No Upcoming Events</h4>
                        <p>You haven't booked any events yet. Explore our events and book your first one!</p>
                        <a href="#events" class="btn btn-primary">Browse Events</a>
                    </div>
                `;
                return;
            }
            
            upcomingBookings.forEach(booking => {
                const event = events.find(e => e.id === booking.eventId);
                if (!event) return;
                
                const bookingCard = createBookingCard(booking, event);
                container.appendChild(bookingCard);
            });
        }

        // Render past events in dashboard
        function renderPastEvents(bookings) {
            const container = document.getElementById('pastEventsContainer');
            container.innerHTML = '';
            
            const pastBookings = bookings.filter(booking => 
                new Date(booking.eventDate) < new Date().setHours(0,0,0,0)
            );
            
            if (pastBookings.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="bi bi-clock-history"></i>
                        <h4>No Past Events</h4>
                        <p>You haven't attended any events through our platform yet.</p>
                    </div>
                `;
                return;
            }
            
            pastBookings.forEach(booking => {
                const event = events.find(e => e.id === booking.eventId);
                if (!event) return;
                
                const bookingCard = createBookingCard(booking, event, true);
                container.appendChild(bookingCard);
            });
        }

        // Create a booking card for dashboard
        function createBookingCard(booking, event, isPast = false) {
            const col = document.createElement('div');
            col.className = 'col-12 mb-3';
            
            const formattedEventDate = new Date(booking.eventDate).toLocaleDateString('en-US', {
                weekday: 'short',
                month: 'short',
                day: 'numeric'
            });
            
            col.innerHTML = `
                <div class="card">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-2 text-center">
                                <div class="bg-light rounded p-3">
                                    <div class="fw-bold text-primary">${formattedEventDate}</div>
                                    <small class="text-muted">${booking.eventTime}</small>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5 class="card-title">${booking.eventTitle}</h5>
                                <p class="card-text mb-1"><i class="bi bi-geo-alt me-1"></i> ${booking.eventLocation}</p>
                                <p class="card-text"><i class="bi bi-ticket-perforated me-1"></i> Booking ID: ${booking.id}</p>
                            </div>
                            <div class="col-md-2 text-center">
                                <div class="h5 text-primary">$${booking.price}</div>
                                <span class="badge ${isPast ? 'bg-secondary' : 'bg-success'}">${isPast ? 'Completed' : 'Confirmed'}</span>
                            </div>
                            <div class="col-md-2 text-end">
                                <button class="btn btn-outline-primary view-ticket-btn" data-booking-id="${booking.id}">
                                    <i class="bi bi-eye me-1"></i> View Ticket
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            return col;
        }

        // Toggle dark/light theme
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            
            if (body.getAttribute('data-bs-theme') === 'dark') {
                body.removeAttribute('data-bs-theme');
                themeToggle.innerHTML = '<i class="bi bi-moon"></i>';
            } else {
                body.setAttribute('data-bs-theme', 'dark');
                themeToggle.innerHTML = '<i class="bi bi-sun"></i>';
            }
        }
    </script>
</body>
</html>